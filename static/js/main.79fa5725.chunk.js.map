{"version":3,"sources":["utils/validators/validators.ts","components/common/FormsControls/FormsControls.module.css","components/Header/Header.module.sass","api/api.ts","components/Profile/ProfileInfo/ProfileInfoDescription/ProfileInfoDescription.tsx","components/Profile/ProfileInfoForm/ProfileInfoForm.module.sass","components/common/Button/Button.tsx","components/Users/Users.module.sass","components/common/FormsControls/FormsControls.tsx","components/Navbar/MenuItem/MenuItem.tsx","components/Navbar/Navbar.tsx","redux/message-reducer.ts","components/Dialogs/Messages/Messages.tsx","components/Dialogs/Messages/MessagesContainer.tsx","components/Navbar/Friends/FriendsContainer.tsx","components/Navbar/Friends/Friends.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/dialogs-reducer.ts","redux/sidebar-reducer.ts","utils/object-helpers.ts","redux/users-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","components/Profile/ProfileInfoForm/ProfileInfoForm.tsx","components/Settings/Settings.tsx","redux/users-selectors.ts","components/common/Paginator/Paginator.tsx","components/Users/User/User.tsx","components/Users/Search/UserSearch.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","components/Friends/Friends.tsx","App.tsx","serviceWorker.ts","index.tsx","components/Dialogs/Messages/Messages.module.sass","assets/image/preloader.svg","components/common/Preloader/Preloader.jsx","components/Login/Login.module.sass","components/Navbar/Navbar.module.sass","components/Profile/ProfileInfo/ProfileInfoDescription/ProfileInfoDescription.module.sass","components/Settings/Settings.module.sass","redux/profile-reducer.ts","components/Navbar/Friends/Friends.module.sass","components/common/Paginator/Paginator.module.sass","components/common/Button/Button.module.sass","assets/image/ufo-2.png","components/Users/Search/UserSearch.module.sass"],"names":["requiredField","value","maxLengthCreator","maxLength","length","module","exports","ResultCodesEnum","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","term","friend","get","then","response","data","getUsersPage","pageNumber","getProfile","userId","console","warn","profileAPI","follow","id","post","unfollow","delete","getStatus","updateStatus","status","put","savePhoto","photo","formData","FormData","append","updateProfile","dataForm","authAPI","me","res","login","email","password","rememberMe","captcha","logout","ProfileInfoDescription","props","profile","className","s","list","item","item_fullName","fullName","lookingForAJobDescription","lookingForAJob","aboutMe","Button","style","children","onChange","onClick","restProps","log","button","FormControl","meta","error","touched","hasError","formControl","Textarea","input","Input","MenuItem","nav_item","nav_item_link","to","activeClassName","active","Navbar","nav","nav_list","ADD_MESSAGE","initialState","messages","name","textMessage","Messages","addMessage","newMessages","map","m","dialog_body","message_one","message_two","dialog_window","dialog_header","MessagesReduxForm","onSubmit","newMessageText","reduxForm","form","handleSubmit","dialog_footer","Field","component","placeholder","dialog_footer_textarea","button_message","MessagesContainer","connect","state","messagesPage","type","FriendsContainer","friends","sidebar","dispatch","friendsList","f","friends_item","friends_item_photo","width","height","avatar","src","alt","friends_list","Header","logoutTC","isAuth","site_name","small","SET_USER_DATA","SET_USER_PHOTO","large","setUserData","payload","getUserAuthData","a","resultCode","Success","HeaderContainer","render","this","match","params","getUserPhoto","React","Component","WithUrlUsersDataContainerComponent","withRouter","auth","loginTC","message","stopSubmit","_error","h1","LoginReduxForm","validate","formSummaryError","button_login","dialogs","lastMessage","updateObInArray","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","SET_FILTER","users","totalUsersCount","isFetching","followingInProgress","searchOption","followSuccess","unfollowSuccess","setToggleIsFetching","toggleFollowingProgress","setFiler","_followUnfollowFlow","apiMethod","actionCreator","INITIALIZED_SUCCESS","initialized","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","action","usersPage","followed","totalCount","filter","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","Preloader","ProfileInfoFormRedux","isOwner","form_block","form_block_info","item_form","item_form_fullName","item_form_description","item_form_aboutMe","item_form_job","form_block_contacts","Object","keys","contacts","c","Settings","history","profileState","useSelector","authorizedUserId","useState","editMode","setEditMode","useDispatch","useEffect","getUserProfile","push","settings","settings_form","initialValues","settings_info","settings_info_description","button_width","getUsersSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getSearchOption","classNames","require","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","users_paginator","p","number","selectPage","User","user","user_avatar","photos","button_followed","follow_unfollow_button","disabled","some","user_info","user_info_name","user_name","user_status","UserSearch","formik","useFormik","values","onSearch","search_form","handleChange","search_input","search_button","Users","users_list","UsersContainer","WithUrlDataContainerComponent","bind","page","getState","items","Friends","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","AppContainer","compose","promise","Promise","all","MainApp","StrictMode","Boolean","window","location","hostname","unregister","navigator","serviceWorker","ready","registration","catch","ReactDOM","document","getElementById","preloader","ADD_POST","SET_PROFILE_INFO","SET_STATUS","UPDATE_STATUS","SAVE_PHOTO","posts","like","newPostText","addPostAC","updateUserStatus","savePhotoAC","reject"],"mappings":"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","file":"static/js/main.79fa5725.chunk.js","sourcesContent":["export type FieldValidatorType = (value: string) => string | undefined\n\nexport const requiredField: FieldValidatorType = (value) => {\n    if (value) return undefined\n    return \"Field is required\"\n}\n\n\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"site_name\":\"Header_site_name__1fFFR\",\"login\":\"Header_login__31kC2\"};","import axios from \"axios\";\nimport {PhotosType, ProfileType, UserType} from \"../types/types\";\n\nexport enum ResultCodesEnum {\n    Success = 0,\n    Error = 1,\n    captchaIsRequired = 10\n}\n\nlet instance = axios.create({\n\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": \"60b88672-b40f-4a98-87f4-2eaf9580a4aa\"\n    }\n\n})\n\n//typing\ntype getUsersType = {\n    items: Array<UserType>\n    totalCount: number,\n    error: null | string\n}\n\ntype followUnfollowType = {\n    resultCode: ResultCodesEnum\n    messages: Array<string>,\n    data: {}\n}\n//typing\n\nexport const usersAPI = {\n    getUsers(currentPage: string | number = 1, pageSize: number = 12, term?: string, friend?: boolean) {\n        return instance.get<getUsersType>(`users?page=${currentPage}&count=${pageSize}&term=${term}&friend=${friend}`).then(response => response.data)\n    },\n\n    getUsersPage(pageNumber: string | number, pageSize: number) {\n        return instance.get<getUsersType>(`users?page=${pageNumber}&count=${pageSize}`).then(response => response.data)\n    },\n\n    getProfile(userId: string) {\n        console.warn(\"Obsolete method. Please profileAPI object\")\n        return profileAPI.getProfile(userId)\n    },\n\n    follow(id: number) {\n        return instance.post<followUnfollowType>(`https://social-network.samuraijs.com/api/1.0/follow/${id}`)\n    },\n\n    unfollow(id: number) {\n        return instance.delete<followUnfollowType>(`https://social-network.samuraijs.com/api/1.0/follow/${id}`)\n    }\n}\n\n//typing\ntype updateStatusType = {\n    resultCode: ResultCodesEnum\n    fieldsErrors: Array<any>\n    messages: Array<string>\n    data: {}\n}\n\ntype savePhotoType = {\n    resultCode: ResultCodesEnum\n    messages: Array<string>\n    data: {\n        small: string | null\n        large: string | null\n    }\n}\n\ntype updateProfileType = {\n    resultCode: ResultCodesEnum\n    messages: Array<string>,\n    data: PhotosType\n}\n//typing\n\nexport const profileAPI = {\n    getProfile(userId: string) {\n        console.warn(\"Obsolete method. Please profileAPI object\")\n        return instance.get<ProfileType>(`profile/${userId}`).then(response => response.data)\n    },\n\n    getStatus(userId: string) {\n        return instance.get<string>(`profile/status/` + userId)\n    },\n\n    updateStatus(status: string) {\n        return instance.put<updateStatusType>(`profile/status`, {status: status})\n    },\n\n    savePhoto(photo: string) {\n        const formData = new FormData()\n        formData.append(\"image\", photo)\n        return instance.put<savePhotoType>(`/profile/photo`, formData, {headers: {'Content-Type': 'multipart/form-data'}})\n    },\n\n    updateProfile(dataForm: ProfileType) {\n        return instance.put<updateProfileType>(`/profile`, dataForm)\n    }\n}\n\n//typing\ntype MeResponseType = {\n    data: {\n        id: number\n        email: string\n        login: string\n    },\n    resultCode: ResultCodesEnum,\n    messages: Array<string>\n}\n\n\ntype LoginResponseType = {\n    data: {\n        userId: number\n    }\n    resultCode: ResultCodesEnum\n    messages: Array<string>\n}\n\n//typing\nexport const authAPI = {\n    me() {\n        return instance.get<MeResponseType>('auth/me').then(res => res.data)\n    },\n\n    login(email: string, password: string, rememberMe: boolean, captcha?: any) {\n        return instance.post<LoginResponseType>('/auth/login', {\n            email,\n            password,\n            rememberMe,\n            captcha\n        }).then(res => res.data)\n    },\n\n    logout() {\n        return instance.delete('/auth/login').then(res => res.data)\n    }\n}\n","import s from './ProfileInfoDescription.module.sass'\nimport React from \"react\";\nimport {ProfileType} from \"../../../../types/types\";\n\ntype ProfileInfoDescriptionType = {\n    profile: ProfileType\n}\n\nexport const ProfileInfoDescription: React.FC<ProfileInfoDescriptionType> = (\n    props) => {\n    /*userId: number\n    lookingForAJob: boolean\n    lookingForAJobDescription: string\n    fullName: string\n    aboutMe: string\n    contacts: ContactsType\n    photos: PhotosType*/\n    /* let contact = profile !== null && profile !== undefined && Object\n         .values(profile.contacts)\n         .filter(item => item !== null)\n         .map((a: any) => {\n             return <div key={a} className={s.contact}>\n                 <a rel=\"stylesheet\" href={a}>{a} </a>\n             </div> //6326\n         })*/\n\n    return (\n        <div>\n            {props.profile !== null &&\n            <ul className={s.list}>\n                <li className={s.item}>\n                    {/*<span className={s.item_fullName}>fullName:</span>*/}\n                    <span className={s.item_fullName}><b>{props.profile.fullName}</b></span>\n                </li>\n\n                {\n                    props.profile.lookingForAJobDescription &&\n                    <li className={s.item}>\n                        <span>Description:</span>\n                        {props.profile.lookingForAJobDescription}\n                    </li>\n                }\n\n                {\n                    props.profile.lookingForAJob &&\n                    <li className={s.item}>\n                        <span>looking For A Job:</span>\n                        {props.profile.lookingForAJob}\n                    </li>\n                }\n\n                {\n                    props.profile.aboutMe &&\n                    <li className={s.item}>\n                        <span>About   Me:</span>\n                        {props.profile.aboutMe}\n                    </li>\n                }\n\n                {/*<div>\n                    Contacts:\n                    {\n                        props.profile &&\n                        Object.keys(props.profile.contacts).map(c => <div key={\"contacts.\" + c}>{props.profile.contacts[c]}</div>)\n                    }\n                </div>*/}\n\n            </ul>}\n        </div>\n    )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileInfoForm_form__1TAwG\",\"form_block\":\"ProfileInfoForm_form_block__4C_ct\",\"form_block_info\":\"ProfileInfoForm_form_block_info__1nIge\",\"form_block_contacts\":\"ProfileInfoForm_form_block_contacts__3Vg1F\",\"item_form_aboutMe\":\"ProfileInfoForm_item_form_aboutMe__1Nz51\",\"item_form_job\":\"ProfileInfoForm_item_form_job__21u5V\",\"item_form\":\"ProfileInfoForm_item_form__3nt98\",\"item\":\"ProfileInfoForm_item__2-GhK\",\"info_contacts\":\"ProfileInfoForm_info_contacts__2Qd81\",\"item_contact\":\"ProfileInfoForm_item_contact__2sU3F\",\"formSummaryError\":\"ProfileInfoForm_formSummaryError__1uWbT\"};","import React from 'react'\nimport s from \"./Button.module.sass\"\n\ntype ButtonType = {\n    style?: string\n    children?: string\n    onChange?: () => void\n    onClick?: () => void\n}\n\nexport const Button: React.FC<ButtonType> = ({style, children, onChange, onClick, ...restProps}) => {\n    console.log(\"Button\", style)\n    return (\n        <button className={s.button + \" \" + style} onChange={onChange} onClick={onClick} {...restProps}>\n            {children}\n        </button>\n    )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Whu_\",\"users_list\":\"Users_users_list__3DzG6\",\"user\":\"Users_user__12P5P\",\"user_avatar\":\"Users_user_avatar__1PI_a\",\"avatar\":\"Users_avatar__28Uw_\",\"follow_unfollow_button\":\"Users_follow_unfollow_button__2kgTj\",\"user_info\":\"Users_user_info__jMX1k\",\"user_info_name\":\"Users_user_info_name__YGCc9\",\"user_name\":\"Users_user_name__1Vq5z\"};","import React from 'react'\nimport s from './FormsControls.module.css'\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\n\ntype FormControlPropsType = {\n    meta: WrappedFieldMetaProps\n}\n\nexport const FormControl: React.FC<FormControlPropsType> = ({meta: {error, touched}, children, ...props}) => {\n    const hasError = error && touched\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            <div>\n                {children}\n            </div>\n            {hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, children, ...restProps} = props\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n}\n\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, children, ...restProps} = props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n\nexport const Checkbox: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, children, ...restProps} = props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n\n","import React from 'react'\nimport s from \"../Navbar.module.sass\";\nimport {NavLink} from \"react-router-dom\";\n\nexport type MenuItemType = {\n    to: string\n    item: string\n}\n\nexport const MenuItem = (props: MenuItemType) => {\n    return (\n        <li className={s.nav_item}>\n            <NavLink className={s.nav_item_link}\n                     to={props.to}\n                     activeClassName={s.active}>\n                {/*<img src={profile} alt=\"profile\"/>*/}\n                <span>{props.item}</span>\n            </NavLink>\n        </li>\n    )\n}","import React from \"react\";\nimport s from \"./Navbar.module.sass\";\nimport {MenuItem} from \"./MenuItem/MenuItem\";\n\nconst Navbar: React.FC = () => {\n\n    return (\n        <nav className={s.nav}>\n            <ul className={s.nav_list}>\n                {/*NavLink - не перезагружая страницу, меняем адресную строку*/}\n                <MenuItem to={\"/profile\"} item={\"Profile\"}/>\n                <MenuItem to={\"/dialogs\"} item={\"Dialogs\"}/>\n                <MenuItem to={\"/friends\"} item={\"Friends\"}/>\n                <MenuItem to={\"/settings\"} item={\"Settings\"}/>\n                <MenuItem to={\"/users\"} item={\"Users\"}/>\n            </ul>\n        </nav>\n    )\n}\n\nexport default Navbar;","//typing\nexport type MessageType = {\n    id: number\n    name: string\n    textMessage: string\n}\n\n/*export type MessagesPageType = {\n    messages: Array<MessageType>\n}*/\n\ntype initialStateType = typeof initialState\ntype ActionType = addMessageType\n//typing\n\nexport const ADD_MESSAGE = \"samurai-network/message/ADD_MESSAGE\"\n\nlet initialState = {\n    messages: [\n        {id: 1, name: \"Он\", textMessage: \"Hello\"},\n        {id: 2, name: \"Ты\", textMessage: \"Hello\"},\n        {id: 1, name: \"Он\", textMessage: \"Ты такая хорошая! Ты даже лучше, чем сахар!\"},\n        {id: 2, name: \"Ты\", textMessage: \"Спасибо! Приходи сегодня\"},\n    ] as Array<MessageType>\n}\n\nexport type addMessageType = ReturnType<typeof addMessage>\n\nexport const messageReducer = (state = initialState, action: ActionType): initialStateType => {\n    switch (action.type) {\n        case ADD_MESSAGE:\n            return {\n                ...state,\n                messages: [...state.messages, {id: 2, name: \"Ты\", textMessage: action.newMessageText}]\n            };\n\n        default:\n            return state\n    }\n}\n\n//newMessageText: string\n//action creator\n//object\nexport const addMessage = (newMessageText: string) => ({type: ADD_MESSAGE, newMessageText} as const)","import React from \"react\";\nimport s from \"./Messages.module.sass\";\nimport {NavLink} from \"react-router-dom\";\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\nimport {MessageType} from \"../../../redux/message-reducer\";\nimport {Button} from \"../../common/Button/Button\";\n\ntype MessagesType = {\n    messages: Array<MessageType>\n    addMessage: (newMessageText: string) => void\n}\n\nconst Messages: React.FC<MessagesType> = ({messages, addMessage}) => {\n\n    let newMessages = messages.map(m =>\n        <div key={m.id} className={s.dialog_body}>\n\n            <div className={m.id === 1 ? s.message_one : \"\"}>\n                <div>{m.id === 1 ? m.name : null}</div>\n                <div>{m.id === 1 ? m.textMessage : null}</div>\n            </div>\n            <div className={m.id === 2 ? s.message_two : \"\"}>\n                <div>{m.id === 2 ? m.name : null}</div>\n                <div>{m.id === 2 ? m.textMessage : null}</div>\n            </div>\n\n        </div>)\n\n    const onSubmit = (formData: MessagesPropsFormType) => {\n        addMessage(formData.newMessageText)\n    }\n\n    return (\n        <div className={s.dialog_window}>\n            <div className={s.dialog_header}>\n                <NavLink to=\"/dialogs\">\n                    <NavLink className={s.button} to={\"/dialogs\"}>Exit</NavLink>\n\n                </NavLink>\n                <div>Avatar + name</div>\n            </div>\n            {newMessages}\n            <MessagesReduxForm onSubmit={onSubmit}/>\n        </div>\n    )\n}\n\nexport default Messages;\n\nexport type MessagesPropsFormType = {\n    newMessageText: string\n}\n\nexport const MessagesForm: React.FC<InjectedFormProps<MessagesPropsFormType>> = ({handleSubmit}) => {\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <div className={s.dialog_footer}>\n                <Field\n                    component={Textarea}\n                    name={\"newMessageText\"}\n                    placeholder={\"fake layout\"}\n                    className={s.dialog_footer_textarea}\n                />\n                <Button style={s.button_message}>Send</Button>\n            </div>\n        </form>\n    )\n}\n\nexport const MessagesReduxForm = reduxForm<MessagesPropsFormType>({\n    form: 'newMessageText'\n})(MessagesForm)\n","import React from \"react\";\nimport {addMessage, MessageType} from \"../../../redux/message-reducer\";\nimport Messages from \"./Messages\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../../../redux/redux-store\";\n\ntype mapStateToPropsType = {\n    messages: Array<MessageType>\n}\n\ntype mapDispatchToPropsType = {\n    addMessage: (newMessageText: string) => void\n}\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        messages: state.messagesPage.messages\n    }\n}\n\n/*https://stackoverflow.com/questions/49808004/parameter-dispatch-implicitly-has-an-any-type*/\n/*const mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        addMessage: (newMessageText: string) => {\n            dispatch(addMessageAC(newMessageText));\n        }\n    }\n}*/\n\nexport const MessagesContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps,\n    {\n        addMessage\n    }\n)(Messages)\n","import React from \"react\";\nimport {Friends} from \"./Friends\";\nimport {connect} from \"react-redux\";\nimport {AppStateType, FriendType} from \"../../../redux/redux-store\";\n\n\ntype mapStateToPropsType = {\n    friends: Array<FriendType>\n}\n\ntype mapDispatchToPropsType = {\n\n}\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        friends: state.sidebar.friends\n    }\n}\n\n/*https://stackoverflow.com/questions/49808004/parameter-dispatch-implicitly-has-an-any-type*/\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n\n    }\n}\nexport const FriendsContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps, mapDispatchToProps)(Friends)\n","import React from \"react\";\nimport {FriendType} from \"../../../redux/redux-store\";\nimport {Avatar} from \"@material-ui/core\";\nimport s from \"./Friends.module.sass\";\n\n\ntype FriendsType = {\n    friends: Array<FriendType>\n}\n\n\nexport const Friends: React.FC<FriendsType> = (props) => {\n\n    let friendsList = props.friends.map(f => <li key={f.id} className={s.friends_item}>\n        <div className={s.friends_item_photo}>\n            <img width={50} height={50} className={s.avatar} src={f.avatar} alt={f.name}/>\n        </div>\n\n        <span>{f.name}</span>\n    </li>)\n\n    return (\n        <ul className={s.friends_list}>\n            {friendsList}\n        </ul>\n        //@ts-ignore\n        /*<AvatarGroup className={s.friends_block} spacing={0} max={3}>\n            {friendsList}\n        </AvatarGroup>*/\n    )\n}","import React from \"react\";\nimport s from \"./Header.module.sass\";\nimport {NavLink} from \"react-router-dom\";\nimport avatar from \"./../../assets/image/ufo-2.png\"\nimport {authType} from \"../../redux/auth-reducer\";\nimport {Button} from \"../common/Button/Button\";\nimport m from \"../common/Button/Button.module.sass\";\n\ntype HeaderType = authType & {\n    logoutTC: () => void\n}\n\nconst Header: React.FC<HeaderType> = ({photo, logoutTC, isAuth, login}) => {\n    return (\n        <>\n\n            <div className={s.site_name}><span>S</span>pacebook</div>\n\n\n            <div className={s.login}>\n                {photo.small === \"\"\n                    ? <img src={avatar} width=\"40px\" height=\"40px\" alt=\"avatar\"/>\n                    : <img src={photo.small} width=\"40px\" height=\"40px\" alt=\"avatar\"/>}\n\n                {isAuth\n                    //? <div>{login} <button onClick={logoutTC}>Log out</button></div>\n                    ? <div>{login} <Button onClick={logoutTC}>Log out</Button></div>\n                    : <NavLink className={m.button} to={'/login'}>Login</NavLink>}\n            </div>\n        </>\n    )\n}\n\nexport default Header;","import {authAPI, ResultCodesEnum} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {stopSubmit} from \"redux-form\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStateType} from \"./redux-store\";\n\n\n//typing\nexport type photoType = {\n    small: string,\n    large: string\n}\n\nexport type authType = {\n    id: number | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean\n    photo: photoType\n}\n\nexport type setUserDataType = ReturnType<typeof setUserData>\nexport type setUserPhotoType = ReturnType<typeof setUserPhoto>\n\ntype ActionType = setUserDataType | setUserPhotoType\n\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\n//typing\n\nexport const SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA'\nexport const SET_USER_PHOTO = 'samurai-network/auth/SET_USER_PHOTO'\n\nexport const initialState: authType = {\n    id: null as number | null,\n    email: null as string | null,\n    login: null as string | null,\n    isAuth: false,\n    photo: {\n        small: \"\",\n        large: \"\"\n    }\n}\n\nexport const authReducer = (state = initialState, action: ActionType): authType => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n\n        case SET_USER_PHOTO:\n            return {\n                ...state,\n                ...action.data\n            }\n\n        default:\n            return state\n    }\n}\n\n//id: number | null, email: string | null, login: string | null, isAuth: boolean\n//action creator\n//object\nconst setUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\n    type: SET_USER_DATA,\n    payload: {id, email, login, isAuth}\n} as const)\n\n\n//small: string, large: string\n//action creator\n//object\nconst setUserPhoto = (small: string, large: string) => ({\n    type: SET_USER_PHOTO,\n    data: {small, large}\n} as const)\n\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const getUserAuthData = (): ThunkType => async (dispatch: Dispatch) => {\n    let res = await authAPI.me()\n    if (res.resultCode === ResultCodesEnum.Success) {\n        let id = res.data.id\n        let email = res.data.email\n        let login = res.data.login\n        dispatch(setUserData(id, email, login, true))\n    }\n}\n\nconsole.log(\"getUserAuthData\", getUserAuthData())\n\n//userId: string\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const getUserPhoto = (userId: string) => (dispatch: Dispatch) => {\n    /*usersAPI.getProfile(userId).then(response => {\n        if (response.data.resultCode === 0) {\n            let small = response.data.photos.small\n            let large = response.data.photos.large\n            dispatch(setUserPhoto(small, large))\n        }\n    })*/\n}\n\n//email: string, password: string, rememberMe: boolean, captcha?: boolean\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const loginTC = (email: string, password: string, rememberMe: boolean, captcha?: boolean): ThunkType =>\n    async (dispatch) => {\n        let data = await authAPI.login(email, password, rememberMe, captcha)\n        if (data.resultCode === ResultCodesEnum.Success) {\n            dispatch(getUserAuthData() as any)\n        } else {\n            let message = data.messages.length > 0 ? data.messages[0] : \"Some error\"\n            //@ts-ignore\n            dispatch(stopSubmit(\"login\", {_error: message}))\n        }\n    }\n\n\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const logoutTC = (): ThunkType => async (dispatch) => {\n    let data = await authAPI.logout()\n    if (data.resultCode === ResultCodesEnum.Success) {\n        dispatch(setUserData(null, null, null, false))\n    }\n}","import React from 'react'\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {getUserPhoto, logoutTC, photoType} from \"../../redux/auth-reducer\";\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\n\ntype ParamsType = {\n    userId: string\n}\n\ntype mapStateToPropsType = {\n    id: number | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean,\n    photo: photoType\n}\n\ntype mapDispatchToPropsType = {\n    /*getUserAuthData: () => void*/\n    getUserPhoto: (userId: string) => void\n    logoutTC: () => void\n}\n\ntype OwnHeaderContainerType = mapStateToPropsType & mapDispatchToPropsType\ntype HeaderContainerType = RouteComponentProps<ParamsType> & OwnHeaderContainerType\n\n\nclass HeaderContainer extends React.Component<HeaderContainerType> {\n    componentDidMount() {\n        /*//запрашиваем авторизационные данные\n        this.props.getUserAuthData()\n*/\n        //запрашиваем фото авторизованного пользователя\n        let userId = this.props.match.params.userId\n        this.props.getUserPhoto(userId)\n    }\n\n    render = () => <Header {...this.props}/>\n}\n\nlet mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        id: state.auth.id,\n        email: state.auth.email,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth,\n        photo: state.auth.photo\n    }\n}\n\n\nlet WithUrlUsersDataContainerComponent = withRouter(HeaderContainer)\n\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps,\n    {\n        /*getUserAuthData,*/\n        getUserPhoto,\n        logoutTC\n    })(WithUrlUsersDataContainerComponent)\n\n","import React from \"react\"\nimport s from './Login.module.sass'\nimport {reduxForm, InjectedFormProps} from \"redux-form\";\nimport {Field} from \"redux-form\";\nimport {Input} from \"../common/FormsControls/FormsControls\";\nimport {requiredField} from \"../../utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {loginTC} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {Button} from \"../common/Button/Button\";\n\n\nconst Login: React.FC<mapStateToPropsType & mapDispatchToPropsType> = (props) => {\n    const onSubmit = (formData: FormDataType) => {\n        props.loginTC(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={\"/profile\"}/>\n    }\n\n    return (\n        <div className={s.login}>\n            <h1 className={s.h1}>Login</h1>\n            <LoginReduxForm onSubmit={onSubmit}/>\n        </div>\n    )\n}\n\n\ntype mapDispatchToPropsType = {\n    loginTC: (email: string, password: string, rememberMe: boolean, captcha?: boolean) => void\n}\n\ntype mapStateToPropsType = {\n    isAuth: boolean\n}\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        isAuth: state.auth.isAuth\n    }\n}\n\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {loginTC})(Login)\n\n\nexport type FormDataType = {\n    email: string\n    password: string\n    rememberMe: boolean\n    captcha?: boolean\n}\n\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\n\n    return (\n        <form className={s.form} onSubmit={handleSubmit}>\n            <div><Field component={Input}\n                        placeholder={\"Login\"}\n                        name={\"email\"}\n                        validate={[requiredField]}\n                        className={s.item}\n            />\n\n            </div>\n            <div><Field component={Input}\n                        placeholder={\"Password\"}\n                        name={\"password\"}\n                        validate={[requiredField]}\n                        type={\"password\"}\n                        className={s.item}\n            />\n            </div>\n\n            <div><Field component={Input}\n                        type={\"checkbox\"}\n                        name={\"rememberMe\"}\n                        className={s.item}\n            />\n                remember me\n            </div>\n            {error && <div className={s.formSummaryError}>{error}</div>}\n            <div>\n                <Button style={s.button_login}>Login</Button>\n            </div>\n        </form>\n    )\n}\n\n\nexport const LoginReduxForm = reduxForm<FormDataType>({\n    form: 'login'\n})(LoginForm)","let initialState = {\n    dialogs: [\n        {\n            id: 1,\n            name: \"Человек-1\",\n            lastMessage: \"Привет!\",\n            avatar: \"https://www.liga.net/images/general/2019/02/14/20190214174619-9721.png\"\n        },\n        {\n            id: 2,\n            name: \"Человек-2\",\n            lastMessage: \"Хочу предложить тебе новый способ заработать, сидя на диване\",\n            avatar: \"https://www.liga.net/images/general/2019/02/14/20190214174624-8569.png\"\n        },\n        {\n            id: 3,\n            name: \"Человек-3\",\n            lastMessage: \"Скинь фотки\",\n            avatar: \"https://bugaga.ru/uploads/posts/2019-10/1569918369_lica-3.jpg\"\n        },\n        {\n            id: 4,\n            name: \"Человек-4\",\n            lastMessage: \"Сотку когда вернешь?\",\n            avatar: \"https://the-steppe.com/new_loc_2/files/Molya/fake-person-twitter-tesla.webp\"\n        },\n        {\n            id: 5,\n            name: \"Человек-5\",\n            lastMessage: \"Жрать охота\",\n            avatar: \"https://texterra.ru/upload/img/10-08-2019/1.jpg\"\n        }\n    ]\n}\n\nexport function dialogsReducer(state = initialState, action: any) {\n    return state\n}\n","let initialState = {\n    friends: [\n        {\n            id: 1,\n            name: \"Друг-1\",\n            avatar: \"https://www.liga.net/images/general/2019/02/14/20190214174619-9721.png\"\n        },\n        {\n            id: 2,\n            name: \"Друг-2\",\n            avatar: \"https://www.liga.net/images/general/2019/02/14/20190214174624-8569.png\"\n        },\n        {\n            id: 3,\n            name: \"Друг-3\",\n            avatar: \"https://bugaga.ru/uploads/posts/2019-10/1569918369_lica-3.jpg\"\n        },\n\n        {\n            id: 4,\n            name: \"Друг-1\",\n            avatar: \"https://the-steppe.com/new_loc_2/files/Molya/fake-person-twitter-tesla.webp\"\n        },\n        {\n            id: 5,\n            name: \"Друг-2\",\n            avatar: \"https://texterra.ru/upload/img/10-08-2019/1.jpg\"\n        },\n        {\n            id: 6,\n            name: \"Друг-3\",\n            avatar: \"https://cs9.pikabu.ru/post_img/big/2019/05/12/5/1557646415132392289.png\"\n        }\n    ]\n}\n\nexport const sidebarReducer = (state = initialState, action: any) => {\n    return state\n}","export const updateObInArray = (item: any, itemId: any, objPropName: any, newObjProps: any) => {\n    return item.map((u: any) => {\n        return itemId === u[objPropName] ? {...u, ...newObjProps} : u\n    })\n}","import {ResultCodesEnum, usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {updateObInArray} from \"../utils/object-helpers\";\nimport {UserType} from \"../types/types\";\nimport {AppStateType} from \"./redux-store\";\nimport {ThunkAction} from \"redux-thunk\";\n\n//typing\n/*export type UsersType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number | string\n    isFetching: boolean\n    followingInProgress: Array<number>\n}*/\n\nexport type followACType = ReturnType<typeof followSuccess>\nexport type unfollowACType = ReturnType<typeof unfollowSuccess>\nexport type setUsersACType = ReturnType<typeof setUsers>\nexport type setCurrentPageACType = ReturnType<typeof setCurrentPage>\nexport type setTotalUsersCountACType = ReturnType<typeof setTotalUsersCount>\nexport type toggleIsFetchingACType = ReturnType<typeof setToggleIsFetching>\nexport type toggleFollowingProgressACType = ReturnType<typeof toggleFollowingProgress>\nexport type setFilerType = ReturnType<typeof setFiler>\n\nexport type ActionType =\n    followACType\n    | unfollowACType\n    | setUsersACType\n    | setCurrentPageACType\n    | setTotalUsersCountACType\n    | toggleIsFetchingACType\n    | toggleFollowingProgressACType\n    | setFilerType\n\ntype initialStateType = typeof initialState\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\n//typing\n\nexport const FOLLOW = \"samurai-network/users/FOLLOW\"\nexport const UNFOLLOW = \"samurai-network/users/UNFOLLOW\"\nexport const SET_USERS = \"samurai-network/users/SET_USERS\"\nexport const SET_CURRENT_PAGE = \"samurai-network/users/SET_CURRENT_PAGE\"\nexport const SET_TOTAL_USERS_COUNT = \"samurai-network/users/SET_TOTAL_USERS_COUNT\"\nexport const TOGGLE_IS_FETCHING = \"samurai-network/users/TOGGLE_IS_FETCHING\"\nexport const TOGGLE_FOLLOWING_PROGRESS = \"samurai-network/users/TOGGLE_FOLLOWING_PROGRESS\"\nexport const SET_FILTER = \"samurai-network/users/SET_FILTER\"\n\nexport const initialState = {\n    users: [] as Array<UserType>,\n    pageSize: 20,\n    totalUsersCount: 0,\n    currentPage: 2 as number | string,\n    isFetching: false,\n    followingInProgress: [] as Array<number>, // array of users id\n    searchOption: '' as string | undefined\n}\n\nexport const usersReducer = (state = initialState, action: ActionType): initialStateType => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObInArray(state.users, action.id, \"id\", {followed: true})\n            }\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObInArray(state.users, action.id, \"id\", {followed: false})\n            }\n\n        case SET_USERS:\n            return {\n                ...state,\n                users: action.users\n            }\n\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: action.currentPage\n            }\n\n        case SET_TOTAL_USERS_COUNT:\n            return {\n                ...state,\n                totalUsersCount: action.totalCount\n            }\n\n        case TOGGLE_IS_FETCHING:\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n\n        case TOGGLE_FOLLOWING_PROGRESS:\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]\n            }\n\n        case SET_FILTER:\n            return {\n                ...state,\n                searchOption: action.term\n            }\n        default:\n            return state\n    }\n}\n\n//id: number\n//action creator\n//object\nexport const followSuccess = (id: number) => ({\n    type: FOLLOW,\n    id\n} as const)\n\n//id: number\n//action creator\n//object\nexport const unfollowSuccess = (id: number) => ({\n    type: UNFOLLOW,\n    id\n} as const)\n\n//users: Array<UserType>\n//action creator\n//object\nexport const setUsers = (users: Array<UserType>) => ({\n    type: SET_USERS,\n    users\n} as const)\n\n//currentPage: number | string\n//action creator\n//object\nexport const setCurrentPage = (currentPage: number | string) => ({\n    type: SET_CURRENT_PAGE,\n    currentPage\n} as const)\n\n//totalCount: number\n//action creator\n//object\nexport const setTotalUsersCount = (totalCount: number) => ({\n    type: SET_TOTAL_USERS_COUNT,\n    totalCount\n} as const)\n\n//isFetching: boolean\n//action creator\n//object\nexport const setToggleIsFetching = (isFetching: boolean) => ({\n    type: TOGGLE_IS_FETCHING,\n    isFetching\n} as const)\n\n//isFetching: boolean, userId: number\n//action creator\n//object\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({\n    type: TOGGLE_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n} as const)\n\nexport const setFiler = (term? : string) => ({\n    type: SET_FILTER,\n    term\n} as const)\n\n//page: number | string, pageSize: number\n//return function\n//Dispatch<ActionType>, getState: () => AppStateType\n//server request getUsers, dispatch action creator\nexport const requestUsers = (page: number | string, pageSize: number, term?: string, friends?: boolean): ThunkType =>\n    async (dispatch, getState) => {\n        dispatch(setToggleIsFetching(true))\n        dispatch(setCurrentPage(page))\n        dispatch(setFiler(term))\n        let data = await usersAPI.getUsers(page, pageSize, term)\n        console.log(\"requestUsers\", data)\n        dispatch(setUsers(data.items))\n        dispatch(setTotalUsersCount(data.totalCount))\n        dispatch(setToggleIsFetching(false))\n    }\n\n//id: number, dispatch: Dispatch, apiMethod: any, actionCreator: any\n//server request follow-unfollow, dispatch action creator\nconst _followUnfollowFlow = async (id: number,\n                                   dispatch: Dispatch<ActionType>,\n                                   apiMethod: any,\n                                   actionCreator: (userId: number) => followACType | unfollowACType) => {\n\n    dispatch(toggleFollowingProgress(true, id))\n    let response = await apiMethod(id)\n    if (response.data.resultCode === ResultCodesEnum.Success) {\n        dispatch(actionCreator(id))\n    }\n    dispatch(toggleFollowingProgress(false, id))\n}\n\n//id: number\n//return function\n//dispatch\n//function followUnfollowFlow\nexport const follow = (id: number): ThunkType =>\n    async (dispatch) => {\n        _followUnfollowFlow(id, dispatch, usersAPI.follow.bind(usersAPI), followSuccess)\n    }\n\n//id: number\n//return function\n//dispatch\n//function followUnfollowFlow\nexport const unfollow = (id: number): ThunkType => async (dispatch) => {\n    _followUnfollowFlow(id, dispatch, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n}\n","import {getUserAuthData} from \"./auth-reducer\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStateType} from \"./redux-store\";\nimport {Dispatch} from \"redux\";\n\n//typing\ntype InitialStateType = {\n    initialized: boolean\n}\n\nexport type initializedSuccessType = ReturnType<typeof initializedSuccess>\ntype ActionType = initializedSuccessType\n\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\n//typing\n\nexport const INITIALIZED_SUCCESS = 'samurai-network/app/INITIALIZED_SUCCESS'\n\nexport const initialState: InitialStateType = {\n    initialized: false\n}\n\n//state, action\n//change state\n//new state\nexport const appReducer = (state = initialState, action: ActionType): InitialStateType => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state\n    }\n}\n\n//create action\n//object {type: INITIALIZED_SUCCESS}\nconst initializedSuccess = () => ({\n    type: INITIALIZED_SUCCESS\n} as const)\n\n\nexport const initializeApp = (): ThunkType => async (dispatch: Dispatch<ActionType>) => {\n    let promise = await dispatch(getUserAuthData() as any)\n    Promise.all([promise]).then(() =>\n        dispatch(initializedSuccess() as any)\n    )\n}\n\n","import {applyMiddleware, combineReducers, createStore, Store} from \"redux\";\nimport {profileReducer} from \"./profile-reducer\";\nimport {dialogsReducer} from \"./dialogs-reducer\";\nimport {messageReducer} from \"./message-reducer\";\nimport {sidebarReducer} from \"./sidebar-reducer\";\nimport {usersReducer} from \"./users-reducer\";\nimport {authReducer} from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport {reducer as formReducer} from 'redux-form';\nimport {appReducer} from \"./app-reducer\";\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    messagesPage: messageReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\n\n//типизируем reducers\nexport type RootReducerType = typeof rootReducer\n//типизируем state\nexport type AppStateType = ReturnType<RootReducerType>\n\nexport type StoreType = Store<AppStateType>\n/*export type StoreType = Store<AppStateType, actionType>*/\n\n//@ts-ignore\n/*const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport let store: StoreType = createStore(reducer, composeEnhancers(applyMiddleware(thunkMiddleware)));*/\n//создаем store\nexport let store: StoreType = createStore(rootReducer, applyMiddleware(thunkMiddleware));\n\n\n/*------------------------------------------------------*/\n\nexport type FriendType = {\n    id: number,\n    name: string,\n    avatar: string\n}\n\nexport type UsersLocationType = {\n    city: string\n    country: string\n}\n\n\nexport type SidebarFriendsType = {\n    friends: Array<FriendType>\n}\n\n\n/*---------------------------Users----------------------------*/\n/*export type UserType = {\n    id: number\n    name: string\n    status: string\n    photos: {\n        small: string\n        large: string\n    },\n    followed: boolean\n}\n\nexport type UsersType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number | string\n    isFetching: boolean\n    followingInProgress: Array<number>\n}*/\n\n/*export type photoType = {\n    small: string,\n    large: string\n}*/\n/*---------------------------Users----------------------------*/\n\n/*---------------------------Auth----------------------------*/\n/*export type authType = {\n    id: number | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean\n    photo: photoType\n}*/\n/*---------------------------Auth----------------------------*/\n\n\n\n","import {Preloader} from \"../components/common/Preloader/Preloader\";\nimport React, {Suspense} from \"react\";\n\nexport const withSuspense = (Component: any) => {\n    return (props: any) => {\n        return <Suspense fallback={<Preloader/>}>\n            <Component {...props}/>\n        </Suspense>\n    }\n\n\n}","import {Field, reduxForm} from \"redux-form\";\nimport {Input, Textarea} from \"../../common/FormsControls/FormsControls\";\nimport React from \"react\";\nimport s from './ProfileInfoForm.module.sass'\nimport avatar from \"../../../assets/image/ufo-2.png\";\nimport {ProfileType} from \"../../../types/types\";\nimport {Button} from \"../../common/Button/Button\";\n\n\ntype ProfileInfoFormType = {\n    profile: ProfileType\n    isOwner: boolean\n    savePhoto?: (photo: string) => void\n    refreshProfile: () => void\n}\n\n\nexport const ProfileInfoForm = ({profile, isOwner, handleSubmit, savePhoto, error}: any) => {\n\n    const onMainPhotoSelected = (e: any) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0])\n        }\n    }\n\n    return (\n        <>\n            {/*<div className={s.avatar}><img src={profile.photos.large || avatar}\n                                           alt=\"user avatar\"\n                                           width=\"180\"\n                                           height=\"180\"/></div>\n            <input type=\"file\" onChange={onMainPhotoSelected}/>*/}\n\n            <form className={s.form} onSubmit={handleSubmit}>\n                <div className={s.form_block}>\n                    <div className={s.form_block_info}>\n                        <div className={s.item_form}> full Name:\n                            <Field component={Input}\n                                   name={\"fullName\"}\n                                   placeholder={\"Full name\"}\n                                   className={`${s.item_form_fullName} ${s.item}`}\n                            />\n                        </div>\n\n                        <div className={s.item_form}> looking For A Job Description:\n                            <Field component={Input}\n                                   name={\"lookingForAJobDescription\"}\n                                   placeholder={\"Empty\"}\n                                   className={`${s.item_form_description} ${s.item}`}\n                            />\n                        </div>\n\n                        <div className={s.item_form}> About Me:\n                            <Field component={Textarea}\n                                   name={\"aboutMe\"}\n                                   placeholder={\"Empty\"}\n                                   className={`${s.item_form_aboutMe} ${s.item}`}\n                            />\n                        </div>\n\n                        <div className={s.item_form}> looking For A Job:\n                            <Field component={Input}\n                                   name={\"lookingForAJob\"}\n                                   placeholder={\"Empty\"}\n                                   type={\"checkbox\"}\n                                   className={`${s.item_form_job} ${s.item}`}\n                            />\n                        </div>\n                    </div>\n\n                    <div className={s.form_block_contacts}>\n                        <div>\n                            {\n                                Object.keys(profile.contacts).map(c => <div className={s.item_form}>{c}<Field key={c}\n                                                                                      component={Input}\n                                                                                      name={\"contacts.\" + c}\n                                                                                      placeholder={\"Empty\"}\n                                                                                      className={s.item}\n\n                                /></div>)\n                            }\n                        </div>\n                    </div>\n\n\n                </div>\n                <Button>Save</Button>\n                {error && <div className={s.formSummaryError}>{error}</div>}\n\n            </form>\n        </>\n\n    )\n}\n\nexport const ProfileInfoFormRedux = reduxForm<ProfileInfoFormType>({\n    form: 'edit-profile'\n})(ProfileInfoForm)","import React, {useEffect, useState} from 'react'\nimport {ProfileInfoFormRedux} from \"../Profile/ProfileInfoForm/ProfileInfoForm\";\nimport {ProfileInfoDescription} from \"../Profile/ProfileInfo/ProfileInfoDescription/ProfileInfoDescription\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUserProfile, updateProfile} from \"../../redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {ProfileType} from \"../../types/types\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {Button} from \"../common/Button/Button\";\nimport s from \"./Settings.module.sass\"\n\n\ntype PathParamsType = {\n    userId: string\n}\n\n//@ts-ignore\nexport const Settings: React.FC<any> = withRouter(({savePhoto, match, history}) => {\n\n        let profileState = useSelector<AppStateType, ProfileType>(state => state.profilePage.profile)\n        let authorizedUserId = useSelector<AppStateType>(state => state.auth.id)\n\n        let [editMode, setEditMode] = useState<boolean>(false)\n        let dispatch = useDispatch()\n\n        let submitProfileInfoReduxForm = (dataForm: ProfileType) => {\n            dispatch(updateProfile(dataForm))\n            setEditMode(!editMode)\n        }\n\n        let userId = match.params.userId;\n\n        useEffect(() => {\n            dispatch(getUserProfile(userId));\n        }, [])\n\n\n        if (!userId) {\n            userId = authorizedUserId;\n            if (!userId) {\n                //Не самое лучшее решение, но по-быструхе можно так сделать\n                history.push(\"/login\");\n            }\n        }\n\n        return (\n            <div className={s.settings}>\n                {\n                    editMode\n                        ? <div className={s.settings_form}>\n                            {/*//@ts-ignore*/}\n                            <ProfileInfoFormRedux initialValues={profileState}\n                                                  isOwner={match.params.userId}\n                                                  profile={profileState}\n                                //@ts-ignore\n                                                  onSubmit={submitProfileInfoReduxForm}\n                                                  savePhoto={savePhoto}\n                                                  setEditMode={setEditMode}\n                                                  editMode={editMode}\n                            />\n\n                        </div>\n                        : <div className={s.settings_info}>\n                            <div className={s.settings_info_description}>\n                                <ProfileInfoDescription profile={profileState}/>\n                            </div>\n\n                            {/*{isOwner && <button onClick={() => setEditMode(!editMode)}>Edit</button>}*/}\n                            <Button style={s.button_width} onClick={() => setEditMode(!editMode)}>Edit</Button>\n                        </div>\n                }\n            </div>\n        )\n    }\n)","import {AppStateType} from \"./redux-store\";\nimport {createSelector} from \"reselect\";\n\nexport const getUsers = (state: AppStateType) => {\n    return state.usersPage.users\n}\n\nexport const getUsersSelector = createSelector(getUsers, (users) => {\n    return users\n})\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress\n}\n\nexport const getSearchOption = (state: AppStateType) => {\n    return state.usersPage.searchOption\n}","import React, {useState} from 'react'\nimport s from \"../Paginator/Paginator.module.sass\"\nimport {Button} from \"../Button/Button\";\n\nlet classNames = require('classnames')\n\ntype PropsType = {\n    pageSize: number\n    totalItemsCount: number\n    currentPage: number | string\n    onPageChanged: (pageNumber: number) => void\n    portionSize?: number\n}\n\nexport const Paginator: React.FC<PropsType> = (\n    {\n        totalItemsCount,\n        pageSize,\n        currentPage,\n        onPageChanged,\n        portionSize = 10\n    }) => {\n\n    //totalItemsCount -\n\n    //pagesCount - все странички\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n    let pages: Array<number> = []\n    for (let i = 1; i < pagesCount; i++) {\n        pages.push(i)\n    }\n\n    //portionSize - размер порции\n    //portionCount - количество порций\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState<number>(1);\n    //левая граница порции\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    //правая граница порции\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return (\n        <div className={s.users_paginator}>\n\n            {\n                portionNumber > 1 &&\n                <Button onClick={() => {\n                    setPortionNumber(portionNumber - 1)\n                }}>PREV</Button>\n            }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                .map((p) => {\n                    return (\n                        <div className={s.number}>\n                            <button className={classNames({\n                                [s.selectPage]: currentPage === p\n                            }, s.pageNumber)}\n                                  key={p}\n                                  onClick={() => {\n                                      onPageChanged(p);\n                                  }}>{p}</button>\n                        </div>\n                    )\n                })}\n\n            {\n                portionCount > portionNumber &&\n                <Button onClick={() => {\n                    setPortionNumber(portionNumber + 1)\n                }}>NEXT</Button>}\n\n        </div>\n    )\n}\n\n","import React from 'react'\nimport s from \"../Users.module.sass\"\nimport avatar from '../../../assets/image/ufo-2.png'\nimport {NavLink} from \"react-router-dom\";\nimport {UserType} from \"../../../types/types\";\n\ntype UsersType = {\n    user: UserType\n    follow: (id: number) => void\n    unfollow: (id: number) => void\n    followingInProgress: Array<number>\n}\n\nexport const User = ({user, followingInProgress, unfollow, follow}: UsersType) => {\n    return (\n        <div className={s.users}>\n\n            <div key={user.id} className={s.user}>\n\n                <div className={s.user_avatar}>\n                    <NavLink to={\"/profile/\" + user.id}>\n                        <img className={s.avatar}\n                             src={user.photos.large !== null ? user.photos.large : `${avatar}`}\n                             alt={user.name}\n                        />\n                    </NavLink>\n                </div>\n\n                <div className={s.button_followed}>\n                    {user.followed ?\n                        <button className={s.follow_unfollow_button}\n                                disabled={followingInProgress.some(id => id === user.id)}\n                                onClick={() => {\n                                    unfollow(user.id)\n                                }}>\n                            Unfollow\n                        </button>\n                        : <button className={s.follow_unfollow_button}\n                                  disabled={followingInProgress.some(id => id === user.id)}\n                                  onClick={() => {\n                                      follow(user.id)\n                                  }}>\n                            Follow\n                        </button>\n                    }\n                </div>\n\n                <div className={s.user_info}>\n                    <div className={s.user_info_name}>\n                        <div className={s.user_name}>{user.name}</div>\n                        <div className={s.user_status}>{user.status}</div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\n","import React from \"react\";\nimport {useFormik} from \"formik\";\nimport s from './UserSearch.module.sass'\nimport {Button} from \"../../common/Button/Button\";\n\nexport const UserSearch = (props: any) => {\n\n    const formik = useFormik({\n        initialValues: {\n            term: ''\n        },\n        onSubmit: values => {\n            props.onSearch(values)\n        },\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit} className={s.search_form}>\n            <input id=\"term\"\n                   name=\"term\"\n                   type=\"text\"\n                   onChange={formik.handleChange}\n                   value={formik.values.term}\n                   className={s.search_input}\n            />\n            {/*<button className={s.search_button}>Search</button>*/}\n            <Button style={s.search_button}>Search</Button>\n\n        </form>\n    )\n}","import React from 'react'\nimport s from \"./Users.module.sass\"\nimport {Paginator} from \"../common/Paginator/Paginator\";\nimport {User} from \"./User/User\";\nimport {UserType} from \"../../types/types\";\nimport {UserSearch} from \"./Search/UserSearch\";\nimport {Preloader} from \"../common/Preloader/Preloader\";\n\ntype PropsType = {\n    users: Array<UserType>\n    follow: (id: number) => void\n    unfollow: (id: number) => void\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number | string\n    onPageChanged: (pageNumber: number) => void\n    followingInProgress: Array<number>\n    onSearch: (term: { term: string }) => void\n    search?: string\n}\n\nexport const Users: React.FC<PropsType> = (\n    {\n        users,\n        totalUsersCount,\n        pageSize,\n        currentPage,\n        onPageChanged,\n        followingInProgress,\n        unfollow,\n        follow,\n        onSearch\n    }) => {\n\n\n    return !users\n        ? <Preloader/>\n        : (\n            <div className={s.users}>\n                <UserSearch onSearch={onSearch}/>\n\n                <div className={s.users_list}>\n                    {\n                        users.map(u => <User user={u} key={u.id}\n                                             followingInProgress={followingInProgress}\n                                             unfollow={unfollow}\n                                             follow={follow}/>)\n                    }\n\n                </div>\n\n                <Paginator currentPage={currentPage}\n                           onPageChanged={onPageChanged}\n                           totalItemsCount={totalUsersCount}\n                           pageSize={pageSize}/>\n\n            </div>\n        )\n}\n","import {connect} from \"react-redux\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {\n    follow,\n    unfollow,\n    requestUsers\n} from \"../../redux/users-reducer\";\nimport React from \"react\";\nimport {Preloader} from \"../common/Preloader/Preloader\";\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\nimport {\n    getCurrentPage, getFollowingInProgress,\n    getIsFetching,\n    getPageSize, getSearchOption,\n    getTotalUsersCount,\n    getUsersSelector\n} from \"../../redux/users-selectors\";\nimport {Users} from \"./Users\";\nimport {UserType} from \"../../types/types\";\n\n\ntype PathParamsType = {\n    userId: string\n}\n\ntype mapStateToPropsType = {\n    users: Array<UserType>\n    totalUsersCount: number\n    currentPage: number | string\n    pageSize: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n    searchOption?: string\n}\n\ntype mapDispatchToPropsType = {\n    follow: (id: number) => void\n    unfollow: (id: number) => void\n    getUsers: (currentPage: number | string, pageSize: number, term?: string, friends?: boolean) => void\n}\n\ntype UsersContainerType = mapStateToPropsType & mapDispatchToPropsType\ntype ContainerType = RouteComponentProps<PathParamsType> & UsersContainerType\n\n\nclass UsersContainer extends React.Component<ContainerType> {\n    componentDidMount() {\n        //запрашиваем юзеров\n        let {currentPage, pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize, this.props.searchOption)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        //запрашиваем юзеров\n        let {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize, this.props.searchOption)\n    }\n\n    onSearch = (term: {term: string}) => {\n        this.props.getUsers(1, this.props.pageSize, term.term)\n    }\n\n\n    render = () =>\n        <>\n            {this.props.isFetching ? <Preloader/> : null}\n\n            <Users users={this.props.users}\n                   follow={this.props.follow}\n                   unfollow={this.props.unfollow}\n                   pageSize={this.props.pageSize}\n                   totalUsersCount={this.props.totalUsersCount}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   followingInProgress={this.props.followingInProgress}\n                   onSearch={this.onSearch}\n            />\n        </>\n}\n\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        users: getUsersSelector(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n        searchOption: getSearchOption(state)\n    }\n}\n\n\nlet WithUrlDataContainerComponent = withRouter(UsersContainer)\n\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps,\n    {\n        follow,\n        unfollow,\n        getUsers: requestUsers\n    }\n)(WithUrlDataContainerComponent)\n\n\n","import React, {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Users} from \"../Users/Users\";\nimport UsersContainer from \"../Users/UsersContainer\";\nimport {requestUsers} from \"../../redux/users-reducer\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {PostType, UserType} from \"../../types/types\";\n\nexport const Friends = (props: any) => {\n\n    let dispatch = useDispatch()\n\n    useEffect(() => {\n       // dispatch(requestUsers(1, 1, undefined, true))\n    })\n\n    let friends = useSelector<AppStateType, Array<UserType>>(state => state.usersPage.users)\n    console.log(\"friends\", friends)\n\n\n    return (\n        <div>\n\n        </div>\n    )\n}","import React, {Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Redirect, Route} from \"react-router-dom\";\nimport {MessagesContainer} from \"./components/Dialogs/Messages/MessagesContainer\";\nimport {FriendsContainer} from \"./components/Navbar/Friends/FriendsContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {AppStateType, store} from \"./redux/redux-store\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport {Settings} from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport {Friends} from \"./components/Friends/Friends\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\n\ntype AppContainerType = mapStateToPropsType & mapDispatchToPropsType\ntype mapDispatchToPropsType = {\n    initializeApp: () => void\n}\n\ntype mapStateToPropsType = {\n    initialized: boolean\n}\n\nlet mapStateToProps = (state: AppStateType) => {\n    return {\n        initialized: state.app.initialized\n    }\n}\n\nexport class App extends React.Component<AppContainerType> {\n    componentDidMount() {\n        //запрашиваем авторизационные данные\n        this.props.initializeApp()\n    }\n\n    render() {\n\n        return !this.props.initialized\n            ? <Preloader/>\n            : (\n                <div className='app-wrapper'>\n                    <header className=\"header\">\n                        <HeaderContainer/>\n                    </header>\n                    <div className=\"app-wrapper-content\">\n                        <main className=\"content\">\n                            <div className=\"\">\n                                <Navbar/>\n                            </div>\n                            <Suspense fallback={<Preloader/>}>\n                                <div className=\"main_content\">\n                                    <div className=\"main\">\n                                        <Route exact path=\"/\" render={() => <Redirect to={'/profile'}/>}/>\n                                        <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                                        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\n                                        <Route path=\"/friends\" component={() => <Friends/>}/>\n                                        <Route path=\"/messages\" render={() => <MessagesContainer/>}/>\n                                        <Route path=\"/users\" render={() => <UsersContainer/>}/>\n                                        <Route path=\"/settings\" render={() => <Settings/>}/>\n                                        <Route path=\"/login\" component={() => <Login/>}/>\n                                        <Route path=\"*\" render={() => <div>404 NOT FOUND</div>}/>\n                                    </div>\n                                </div>\n                            </Suspense>\n\n                            <div className=\"main_content_friends\">\n                                <FriendsContainer/>\n                            </div>\n                        </main>\n                    </div>\n                </div>\n\n            );\n    }\n}\n\nlet AppContainer = compose(\n    connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {initializeApp})(App)\n);\n\nexport const MainApp = () => {\n    return <React.StrictMode>\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>\n}\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport  {MainApp} from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <MainApp/>,\n    document.getElementById('root')\n);\n\nserviceWorker.unregister();\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_window\":\"Messages_dialog_window__NGXtj\",\"dialog_header\":\"Messages_dialog_header__2NTHl\",\"dialog_footer\":\"Messages_dialog_footer__3sNge\",\"button\":\"Messages_button__B4QTR\",\"dialog_footer_textarea\":\"Messages_dialog_footer_textarea__2wUAq\",\"dialog_body\":\"Messages_dialog_body__eTCSO\",\"message_one\":\"Messages_message_one__158ii\",\"message_two\":\"Messages_message_two__1bHxW\",\"button_message\":\"Messages_button_message__3j5yC\"};","export default __webpack_public_path__ + \"static/media/preloader.02e8bfc4.svg\";","import React from 'react'\nimport preloader from \"./../../../assets/image/preloader.svg\"\nimport s from \"./Preloader.module.sass\"\n\nexport const Preloader = () => {\n    return (\n        <>\n            <img src={preloader} alt=\"preloader\"/>\n        </>\n    )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"Login_h1__3d9UL\",\"form\":\"Login_form__3xFWW\",\"item\":\"Login_item__2Z20d\",\"formSummaryError\":\"Login_formSummaryError__3l-5r\",\"button_login\":\"Login_button_login__2yThS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2G49n\",\"nav_list\":\"Navbar_nav_list__195P5\",\"nav_item\":\"Navbar_nav_item__l_UkN\",\"nav_item_link\":\"Navbar_nav_item_link__2kja5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ProfileInfoDescription_list__3P-_a\",\"item\":\"ProfileInfoDescription_item__14t3s\",\"item_fullName\":\"ProfileInfoDescription_item_fullName__1hW3I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__VMqiu\",\"settings_info\":\"Settings_settings_info__3sAFs\",\"settings_info_description\":\"Settings_settings_info_description__3MwYH\",\"button_width\":\"Settings_button_width__2YfXV\"};","import {profileAPI, ResultCodesEnum, usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {stopSubmit} from \"redux-form\";\nimport {photoType} from \"./auth-reducer\";\nimport {PostType, ProfileType} from \"../types/types\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStateType} from \"./redux-store\";\nimport {FormAction} from \"redux-form/lib/actions\";\n\n//typing\nexport type addPostAC = ReturnType<typeof addPostAC>\nexport type setUserProfileType = ReturnType<typeof setUserProfile>\nexport type setUserStatus = ReturnType<typeof setUserStatus>\nexport type updateUserStatus = ReturnType<typeof updateUserStatus>\nexport type savePhotoACType = ReturnType<typeof savePhotoAC>\n\ntype ActionType = addPostAC | setUserProfileType | setUserStatus | updateUserStatus | savePhotoACType\n\ntype initialStateType = typeof initialState\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\n//typing\n\n\nconst ADD_POST = \"samurai-network/profile/ADD_POST\"\nconst SET_PROFILE_INFO = \"samurai-network/profile/SET_PROFILE_INFO\"\nconst SET_STATUS = \"samurai-network/profile/SET_STATUS\"\nconst UPDATE_STATUS = \"samurai-network/profile/UPDATE_STATUS\"\nconst SAVE_PHOTO = \"samurai-network/profile/SAVE_PHOTO\"\n\nlet initialState = {\n    posts: [\n        {id: 1, message: \"Сегодня был чудесный день!\", like: 25},\n        {id: 2, message: \"Я покушал и поспал\", like: 40},\n        {id: 3, message: \"Но не выспался\", like: 1}\n    ] as Array<PostType>,\n    /* profile: {\n         userId: null,\n         lookingForAJob: false,\n         lookingForAJobDescription: null,\n         fullName: null,\n         contacts: {\n             github: null,\n             vk: null,\n             facebook: null,\n             instagram: null,\n             twitter: null,\n             website: null,\n             youtube: null,\n             mainLink: null\n         },\n         photos: {\n             small: null,\n             large: null\n         }\n     },*/\n\n    profile: null as ProfileType | null,\n\n    status: \"\"\n}\n\nexport const profileReducer = (state = initialState, action: ActionType): initialStateType => {\n    switch (action.type) {\n        case ADD_POST:\n            return {\n                ...state,\n                posts: [{id: 5, message: action.newPostText, like: 25}, ...state.posts],\n            }\n\n        case SET_PROFILE_INFO:\n            return {\n                ...state,\n                profile: action.profile\n            }\n\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n\n        case UPDATE_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n\n        case SAVE_PHOTO:\n            return {\n                ...state, profile: {...state.profile, photos: action.photo} as ProfileType\n            }\n\n        default:\n            return state\n    }\n}\n\n//newPostText: string\n//action creator\n//object\nexport const addPostAC = (newPostText: string) => ({type: ADD_POST, newPostText} as const)\n\n//profile: ProfileType\n//action creator\n//object\nexport const setUserProfile = (profile: ProfileType) => ({\n    type: SET_PROFILE_INFO,\n    profile\n} as const)\n\n//status: string\n//action creator\n//object\nexport const setUserStatus = (status: string) => ({\n    type: SET_STATUS,\n    status\n} as const)\n\n//status: string\n//action creator\n//object\nexport const updateUserStatus = (status: string) => ({\n    type: UPDATE_STATUS,\n    status\n} as const)\n\n//photo: string\n//action creator\n//object\nexport const savePhotoAC = (photo: photoType) => ({\n    type: SAVE_PHOTO,\n    photo\n} as const)\n\n//userId: string\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const getUserProfile = (userId: string): ThunkType => async (dispatch) => {\n    let data = await usersAPI.getProfile(userId)\n    dispatch(setUserProfile(data))\n}\n//ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\n//userId: string\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const getStatus = (userId: string): ThunkType=> async (dispatch) => {\n    let res = await profileAPI.getStatus(userId)\n    dispatch(setUserStatus(res.data))\n}\n\n//status: string\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\n    let res = await profileAPI.updateStatus(status)\n    if (res.data.resultCode === ResultCodesEnum.Success) {\n        dispatch(updateUserStatus(status))\n    }\n}\n\n//photo: string\n//return function\n//dispatch\n//server request, dispatch action creator\nexport const savePhoto = (photo: string): ThunkType => async (dispatch) => {\n    let res = await profileAPI.savePhoto(photo)\n    if (res.data.resultCode === ResultCodesEnum.Success) {\n        console.log(\"res.data.data\",res.data.data)\n        //@ts-ignore\n        dispatch(savePhotoAC(res.data.data))\n    }\n}\n\n//dataForm: ProfileType\n//return function\n//dispatch, getState\n//server request, dispatch action creator\nexport const updateProfile = (dataForm: ProfileType): ThunkType => async (dispatch, getState) => {\n    let userId = getState().auth.id\n    let res = await profileAPI.updateProfile(dataForm)\n    if (res.data.resultCode === ResultCodesEnum.Success) {\n        //@ts-ignore\n        dispatch(getUserProfile(userId))\n    } else {\n        //@ts-ignore\n        dispatch(stopSubmit(\"edit-profile\", {_error: res.data.messages[0]}))\n        return Promise.reject(res.data.messages[0])\n    }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends_list\":\"Friends_friends_list__3NkUf\",\"friends_item\":\"Friends_friends_item__1J0bI\",\"friends_item_photo\":\"Friends_friends_item_photo__3P5pY\",\"avatar\":\"Friends_avatar__3Qndj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_paginator\":\"Paginator_users_paginator__2NMhY\",\"page\":\"Paginator_page__3OIl6\",\"pageNumber\":\"Paginator_pageNumber__2135a\",\"selectPage\":\"Paginator_selectPage__BqcPI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__20FYT\",\"background\":\"Button_background__3R9h_\"};","export default __webpack_public_path__ + \"static/media/ufo-2.3c1ecb26.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"UserSearch_search_form__2mdu8\",\"search_input\":\"UserSearch_search_input__39ReR\",\"search_button\":\"UserSearch_search_button__nTuw7\"};"],"sourceRoot":""}