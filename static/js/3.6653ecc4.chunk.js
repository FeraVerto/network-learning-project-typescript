(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{335:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var o=s(6),a=s(81),n=s(1),i=(s(0),s(15)),c=s(12),r=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(i.b)(r)((function(e){e.isAuth;var s=Object(a.a)(e,["isAuth"]);return e.isAuth?Object(n.jsx)(t,Object(o.a)({},s)):Object(n.jsx)(c.a,{to:"/login"})}))}},338:function(t,e,s){t.exports={main_profile:"Profile_main_profile__2-65N"}},339:function(t,e,s){t.exports={post_block:"MyPost_post_block__1cDSp",post:"MyPost_post__1TfQL",post_text:"MyPost_post_text__3GQ1t"}},340:function(t,e,s){t.exports={posts_form:"MyPosts_posts_form__1CsEi",button_block:"MyPosts_button_block__awp2T",posts_textarea:"MyPosts_posts_textarea__3kZWx",posts_button:"MyPosts_posts_button__192L8"}},341:function(t,e,s){t.exports={profile:"ProfileInfo_profile__1GIDg",profile_info:"ProfileInfo_profile_info__142Ew",info:"ProfileInfo_info__mPdgt",info_name:"ProfileInfo_info_name__3FNdF",contact:"ProfileInfo_contact__2ZooF",button_block:"ProfileInfo_button_block__3QeFp",button:"ProfileInfo_button__WeC7y",avatar:"ProfileInfo_avatar__2-RVm"}},349:function(t,e,s){"use strict";s.r(e);var o=s(6),a=s(47),n=s(48),i=s(50),c=s(49),r=s(1),l=s(0),u=s.n(l),j=s(78),b=s(15),p=s(12),f=s(335),d=s(11),h=s(338),_=s.n(h),O=s(339),m=s.n(O),x=s(334),v=s(352),g=s(350),P=s(347),k=s(348),N=function(t){return Object(r.jsxs)("div",{className:m.a.post_block,children:[Object(r.jsxs)("div",{className:m.a.post,children:[Object(r.jsx)(x.a,{src:"https://www.meme-arsenal.com/memes/3736fb7f61101f1468bcc568ce13dd71.jpg",alt:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430"}),Object(r.jsx)(v.a,{control:Object(r.jsx)(g.a,{icon:Object(r.jsx)(P.a,{}),checkedIcon:Object(r.jsx)(k.a,{}),name:"checkedH"}),label:t.like})]}),Object(r.jsx)("div",{className:m.a.post_text,children:t.message})]})},y=s(340),w=s.n(y),A=s(141),I=s(142),S=s(52),F=s(51),D=Object(S.a)(10),M=u.a.memo((function(t){var e=t.posts,s=t.addPostAC,o=t.isAuth,a=e.map((function(t){return Object(r.jsx)(N,{id:t.id,message:t.message,like:t.like},t.id)}));return o?Object(r.jsxs)("div",{className:w.a.posts,children:[Object(r.jsx)(C,{onSubmit:function(t){s(t.newPostText)}}),Object(r.jsx)("div",{children:a})]}):Object(r.jsx)(p.a,{to:"/login"})})),C=Object(I.a)({form:"newPostText"})((function(t){return Object(r.jsx)("form",{onSubmit:t.handleSubmit,children:Object(r.jsxs)("div",{className:w.a.posts_form,children:[Object(r.jsx)(A.a,{component:F.b,name:"newPostText",placeholder:"Empty",className:w.a.posts_textarea,validate:[S.b,D]}),Object(r.jsx)("div",{className:w.a.button_block,children:Object(r.jsx)("button",{className:w.a.posts_button,children:"Add post"})})]})})})),J=M,T=Object(b.b)((function(t){return{posts:t.profilePage.posts,isAuth:t.auth.isAuth}}),{addPostAC:j.a})(J),U=s(341),E=s.n(U),Q=s(42),z=s(80),G=s(143),L=function(t){var e=Object(l.useState)(!1),s=Object(G.a)(e,2),o=s[0],a=s[1],n=Object(l.useState)(t.status),i=Object(G.a)(n,2),c=i[0],u=i[1];return Object(l.useEffect)((function(){u(t.status)}),[t.status]),Object(r.jsx)("div",{children:o?Object(r.jsx)("div",{children:Object(r.jsx)("input",{autoFocus:!0,onBlur:function(){a(!o),t.updateStatus(c)},value:c,onChange:function(t){u(t.target?t.target.value:"")}})}):Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:function(){return a(!o)},children:t.status||"No status"})})})},W=s(21),Z=function(t){t.isOwner;var e=t.profile,s=t.status,o=t.updateStatus,a=null!==e&&void 0!==e&&Object.values(e.contacts).filter((function(t){return null!==t})).map((function(t){return Object(r.jsx)("div",{className:E.a.contact,children:Object(r.jsxs)("a",{rel:"stylesheet",href:t,children:[t," "]})},t)}));return e?Object(r.jsxs)("div",{className:E.a.profile,children:[Object(r.jsxs)("div",{className:E.a.profile_info,children:[Object(r.jsxs)("div",{children:[e.photos.large?Object(r.jsx)("div",{className:E.a.avatar,children:Object(r.jsx)("img",{src:e.photos.large,alt:"user avatar",width:"180",height:"180"})}):Object(r.jsx)("div",{className:E.a.avatar,children:Object(r.jsx)("img",{src:z.a,alt:"no avatar",width:"180",height:"240"})}),Object(r.jsx)("div",{className:E.a.info_name,children:e.fullName}),Object(r.jsx)("div",{children:Object(r.jsx)(L,{status:s,updateStatus:o})}),Object(r.jsxs)("div",{className:E.a.button_block,children:[Object(r.jsx)("button",{className:E.a.button,children:Object(r.jsx)(W.b,{to:"/dialogs",children:"Dialog"})}),Object(r.jsx)("button",{className:E.a.button,children:"Follow"})]})]}),Object(r.jsxs)("div",{className:E.a.info,children:[null===e.lookingForAJobDescription?Object(r.jsxs)("div",{className:E.a.info_description,children:["Description: ",e.lookingForAJobDescription]}):null,null===e.lookingForAJob?Object(r.jsxs)("div",{className:E.a.info_job,children:["lookingForAJob: ",e.lookingForAJob]}):null,Object(r.jsxs)("div",{className:E.a.info_contacts,children:["contacts:",a]})]})]}),Object(r.jsx)("div",{})]}):Object(r.jsx)(Q.a,{})},B=function(t){var e=t.isOwner,s=t.profile,o=t.status,a=t.updateStatus;return Object(r.jsxs)("main",{className:_.a.main_profile,children:[Object(r.jsx)(Z,{isOwner:e,profile:s,status:o,updateStatus:a}),Object(r.jsx)(T,{})]})},H=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){return Object(a.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(r.jsx)(B,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.a.Component);e.default=Object(d.d)(p.f,f.a,Object(b.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id}}),{getUserProfile:j.c,getStatus:j.b,updateStatus:j.f}))(H)}}]);
//# sourceMappingURL=3.6653ecc4.chunk.js.map